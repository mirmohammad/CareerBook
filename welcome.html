<!DOCTYPE html>
<html>
<head>
	<title>CareerBook</title>
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link type="text/css" rel="stylesheet" href="./css/style.css">
	<script type="text/javascript">
		$(function() {  // Document is ready !
			$("#loginSubmit").click(function(event){
				event.preventDefault();
				$("#loginError").attr("hidden", "hidden");
				let username = $("#loginUsername").val();
				let password = $("#loginPassword").val();
				if(localStorage[username] == password) {
					$("#loginUsername").val('');
					$("#loginPassword").val('');
					window.location.href = "home.html";
				} else {
					$("#loginError").removeAttr("hidden");
				}
			});
			$("#registerSubmit").click(function(event) {
				event.preventDefault();
				$("#registerError").attr("hidden", "hidden");
				let username = $("#registerUsername").val();
				let password = $("#registerPassword").val();
				let confirm = $("#registerConfirm").val();
				if(localStorage[username] != undefined) {
					$("#registerError").removeAttr("hidden");
				} else {
					if(password != confirm) {
						$("#registerError").removeAttr("hidden");
					} else {
						localStorage.setItem(username, password);
						$("#registerUsername").val('');
					}
				}
				$("#registerPassword").val('');
				$("#registerConfirm").val('');
			});
		});
	</script>
</head>
<body>
<nav class="navbar navbar-fixed-top">
	<div class="container">
		<div class="navbar-header">
			<button class="navbar-toggle" data-toggle="collapse" data-target="#loginNav" type="button">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand">Logo</a>
		</div>
		<div id="loginNav" class="collapse navbar-collapse">
			
			<ul class="nav navbar-nav navbar-right">
				<li><a data-toggle="modal" data-target="#registerModal">Register</a></li>
				<li><a data-toggle="modal" data-target="#loginModal">Login</a></li>
			</ul>
		</div>
	</div>
</nav>
<!-- *** Modals *** -->
<!-- ** Register Modal -->
<div id="registerModal" class="modal fade">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button class="close" data-dismiss="modal">&times;</button>
				<h3 class="modal-title">Register</h3>
			</div>
			<div class="modal-body">
				<form>
					<div id="registerError" class="form-group alert alert-danger" hidden="hidden">
						Invalid username and password!
					</div>
					<div class="form-group">
						<label for="registerUsername">Username:</label>
						<input id="registerUsername" class="form-control" type="text"/>
					</div>
					<div class="form-group">
						<label for="registerPassword">Password:</label>
						<input id="registerPassword" class="form-control" type="password">
					</div>
					<div class="form-group">
						<label for="registerConfirm">Confirm password:</label>
						<input id="registerConfirm" class="form-control" type="password">
					</div>
					<button id="registerSubmit" class="btn btn-success" type="submit">Register</button>
				</form>
			</div>
			<div class="modal-footer">
				<button class="btn btn-info" data-dismiss="modal">Cancel</button>
			</div>
		</div>
	</div>
</div>
<!-- Login Modal -->
<div id="loginModal" class="modal fade">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button class="close" data-dismiss="modal">&times;</button>
				<h3 class="modal-title">Login</h3>
			</div>
			<div class="modal-body">
				<form>
					<div id="loginError" class="form-group alert alert-danger" hidden="hidden">
						Invalid username and password!
					</div>
					<div class="form-group">
						<label for="loginUsername">Username:</label>
						<input id="loginUsername" class="form-control" type="text"/>
					</div>
					<div class="form-group">
						<label for="loginPassword">Password:</label>
						<input id="loginPassword" class="form-control" type="password">
					</div>
					<div class="checkbox">
						<label>
							<input id="loginRemember" type="checkbox"/>Remember me
						</label>
					</div>
					<button id="loginSubmit" class="btn btn-success" type="submit">Login</button>
				</form>
			</div>
			<div class="modal-footer">
				<button class="btn btn-info" data-dismiss="modal">Cancel</button>
			</div>
		</div>
	</div>
</div>

<div class="pushdown" id="welcome">
	<h1>Welcome to CareerBook</h1>
</div>

</body>
</html>